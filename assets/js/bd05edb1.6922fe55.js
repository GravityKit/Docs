"use strict";(self.webpackChunkgravitykit_docs=self.webpackChunkgravitykit_docs||[]).push([[40161],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>v});var i=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=i.createContext({}),l=function(e){var t=i.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},d=function(e){var t=l(e.components);return i.createElement(s.Provider,{value:t},e.children)},h="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,s=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),h=l(a),p=n,v=h["".concat(s,".").concat(p)]||h[p]||u[p]||r;return a?i.createElement(v,c(c({ref:t},d),{},{components:a})):i.createElement(v,c({ref:t},d))}));function v(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,c=new Array(r);c[0]=p;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[h]="string"==typeof e?e:n,c[1]=o;for(var l=2;l<r;l++)c[l]=a[l];return i.createElement.apply(null,c)}return i.createElement.apply(null,a)}p.displayName="MDXCreateElement"},401:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>l});var i=a(87462),n=(a(67294),a(3905));const r={id:"54c67bb6e4b051242988550a",number:"58",collectionId:"566dfabbc6979143615564bf",popularity:"0.9",publicUrl:"https://docs.gravitykit.com/article/58-about-gravityview-caching",viewCount:"4937",lastPublishedAt:"2022-12-28T10:59:21Z",changeOrigin:"hsapp-js",name:"About GravityView Caching",slug:"58-about-gravityview-caching",status:"published",categories:["579aa642c6979160ca148ba9"],createdBy:"59634",createdAt:"2015-01-26T17:39:02Z",updatedBy:"459439",updatedAt:"2022-12-28T10:59:21Z",title:"About GravityView Caching",hsEditUrl:"https://secure.helpscout.net/docs/566dfabbc6979143615564bf/article/54c67bb6e4b051242988550a",pagination_prev:null,pagination_next:null,last_update:{date:new Date("2022-12-28T10:59:21.000Z"),author:"Rafael Bennemann"}},c="About GravityView Caching",o={unversionedId:"gravity-forms-add-ons/gravityview/advanced/54c67bb6e4b051242988550a",id:"gravity-forms-add-ons/gravityview/advanced/54c67bb6e4b051242988550a",title:"About GravityView Caching",description:"A quick way to clear a View's cache is by adding the ?cache parameter to the end of the URL where your View is located.",source:"@site/docs/gravity-forms-add-ons/gravityview/advanced/58-about-gravityview-caching.mdx",sourceDirName:"gravity-forms-add-ons/gravityview/advanced",slug:"/gravity-forms-add-ons/gravityview/advanced/58-about-gravityview-caching",permalink:"/gravity-forms-add-ons/gravityview/advanced/58-about-gravityview-caching",draft:!1,editUrl:"https://github.com/GravityKit/Docs/tree/main/docs/gravity-forms-add-ons/gravityview/advanced/58-about-gravityview-caching.mdx",tags:[],version:"current",sidebarPosition:58,frontMatter:{id:"54c67bb6e4b051242988550a",number:"58",collectionId:"566dfabbc6979143615564bf",popularity:"0.9",publicUrl:"https://docs.gravitykit.com/article/58-about-gravityview-caching",viewCount:"4937",lastPublishedAt:"2022-12-28T10:59:21Z",changeOrigin:"hsapp-js",name:"About GravityView Caching",slug:"58-about-gravityview-caching",status:"published",categories:["579aa642c6979160ca148ba9"],createdBy:"59634",createdAt:"2015-01-26T17:39:02Z",updatedBy:"459439",updatedAt:"2022-12-28T10:59:21Z",title:"About GravityView Caching",hsEditUrl:"https://secure.helpscout.net/docs/566dfabbc6979143615564bf/article/54c67bb6e4b051242988550a",pagination_prev:null,pagination_next:null,last_update:{date:"2022-12-28T10:59:21.000Z",author:"Rafael Bennemann"}},sidebar:"gravityview"},s={},l=[{value:"What GravityView Caches",id:"what-gravityview-caches",level:2},{value:"DataTables Extension",id:"datatables-extension",level:3},{value:"What happens when entries are added or changed",id:"what-happens-when-entries-are-added-or-changed",level:2},{value:"Clearing expired caches",id:"clearing-expired-caches",level:3},{value:"How to disable the cache",id:"how-to-disable-the-cache",level:2},{value:"GravityView Cache Filters",id:"gravityview-cache-filters",level:2}],d={toc:l},h="wrapper";function u(e){let{components:t,...a}=e;return(0,n.kt)(h,(0,i.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"about-gravityview-caching"},"About GravityView Caching"),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"A quick way to clear a View's cache is by adding the ?cache parameter to the end of the URL where your View is located.",(0,n.kt)("br",{parentName:"p"}),"\n","Example: ",(0,n.kt)("a",{parentName:"p",href:"https://example.com/view/directory/?cache"},"https://example.com/view/directory/?cache"))),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"GravityView introduced caching in Version 1.3.")),(0,n.kt)("h2",{id:"what-gravityview-caches"},"What GravityView Caches"),(0,n.kt)("p",null,"Caching entry requests reduces the number of queries performed on a page load by hundreds and possibly thousands when dealing with large View. This makes GravityView faster."),(0,n.kt)("p",null,"GravityView caches entry requests for Views to speed up the plugin. Requests are cached using a unique key generated on the specific request details, including the current page number, the number of results, and the sorting values."),(0,n.kt)("p",null,"When data changes in a Gravity Forms form, all caches using that form data are cleared. This way, caches do not result in out-of-date data being displayed."),(0,n.kt)("p",null,"Cached results are stored ",(0,n.kt)("a",{parentName:"p",href:"http://codex.wordpress.org/Transients_API"},"using the Transients API"),"."),(0,n.kt)("h3",{id:"datatables-extension"},"DataTables Extension"),(0,n.kt)("p",null,"In addition to caching the entries query, GravityView caches the JSON responses used by the DataTables Extension. This allows the request to be processed faster, which is important for the responsiveness of the extension."),(0,n.kt)("h2",{id:"what-happens-when-entries-are-added-or-changed"},"What happens when entries are added or changed"),(0,n.kt)("p",null,'When an entry is created or modified in Gravity Forms, the GravityView cache adds the entry\'s form to a list of forms that have been changed, the "cache blacklist".'),(0,n.kt)("p",null,"The cache blacklist is stored in WP Options table with the name of ",(0,n.kt)("inlineCode",{parentName:"p"},"gravityview_cache_blacklist"),"."),(0,n.kt)("p",null,"When entries for a View are fetched, GravityView checks whether the View is connected to a form on the cache blacklist."),(0,n.kt)("p",null,"If the requested form is on the blacklist, then:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The cached entries are cleared from all Views connected to the form"),(0,n.kt)("li",{parentName:"ul"},"The form is removed from the blacklist"),(0,n.kt)("li",{parentName:"ul"},"The cache returns false so that a new query will be used to fetch entries")),(0,n.kt)("p",null,"All these processes are logged for easy debugging using the ",(0,n.kt)("a",{parentName:"p",href:"https://wordpress.org/plugins/debug-bar/"},"Debug Bar plugin"),"."),(0,n.kt)("h3",{id:"clearing-expired-caches"},"Clearing expired caches"),(0,n.kt)("p",null,'Because GravityView stores caches in "transients", they are only cached for a set amount of time (default: 7 days).'),(0,n.kt)("p",null,"Each request is cached separately, including each page of each View. This can add up to many database entries, so twice a day, GravityView runs a script that deletes expired caches."),(0,n.kt)("h2",{id:"how-to-disable-the-cache"},"How to disable the cache"),(0,n.kt)("p",null,"If you are logged in, and you can edit posts, you can temporarily disable the cache by adding ",(0,n.kt)("inlineCode",{parentName:"p"},"?cache")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"?nocache"),"."),(0,n.kt)("p",null," ",(0,n.kt)("strong",{parentName:"p"},"You can disable the cache permanently by ",(0,n.kt)("a",{parentName:"strong",href:"https://github.com/katzwebservices/gv-snippets/archive/addon/2863-disable-cache.zip"},"downloading and installing this plugin"),".")),(0,n.kt)("p",null,"You can also add the following code ",(0,n.kt)("a",{parentName:"p",href:"https://docs.gravitykit.com/article/210-where-to-put-code-samples"},"to your functions.php file"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"\nadd_filter('gravityview_use_cache', '__return_false');\n")),(0,n.kt)("h2",{id:"gravityview-cache-filters"},"GravityView Cache Filters"),(0,n.kt)("p",null,"You can use the following filters to modify the cache functionality:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"gravityview_use_cache")," ",(0,n.kt)("em",{parentName:"li"},"(boolean)")," Whether to use GravityView caching. Default: ",(0,n.kt)("inlineCode",{parentName:"li"},"true"),". Second parameter: is the current ",(0,n.kt)("inlineCode",{parentName:"li"},"GravityView_Cache")," object."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"gravityview_cache_time_{$filter_name}")," ",(0,n.kt)("em",{parentName:"li"},"(int)")," Number of seconds to cache requests. Default: ",(0,n.kt)("inlineCode",{parentName:"li"},"86400")," (1 day in seconds). ",(0,n.kt)("inlineCode",{parentName:"li"},"$filter_name")," is the parameter when setting the cache value. Filter names include: ",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"gravityview_cache_time_entries")," - Entries fetched using ",(0,n.kt)("inlineCode",{parentName:"li"},"gravityview_get_entries()")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"gravityview_cache_time_datatables_output")," - DataTables JSON response"))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"gravityview_cleanup_transients")," ",(0,n.kt)("em",{parentName:"li"},"(boolean)")," Enable or disable GravityView automatic cleanups of expired caches. Default: ",(0,n.kt)("inlineCode",{parentName:"li"},"true"))))}u.isMDXComponent=!0}}]);