"use strict";(self.webpackChunkgravitykit_docs=self.webpackChunkgravitykit_docs||[]).push([[57545],{3905:(e,t,r)=>{r.d(t,{Zo:()=>f,kt:()=>u});var n=r(67294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=n.createContext({}),c=function(e){var t=n.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},f=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},l="mdxType",g={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,i=e.originalType,s=e.parentName,f=d(e,["components","mdxType","originalType","parentName"]),l=c(r),p=a,u=l["".concat(s,".").concat(p)]||l[p]||g[p]||i;return r?n.createElement(u,o(o({ref:t},f),{},{components:r})):n.createElement(u,o({ref:t},f))}));function u(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=r.length,o=new Array(i);o[0]=p;var d={};for(var s in t)hasOwnProperty.call(t,s)&&(d[s]=t[s]);d.originalType=e,d[l]="string"==typeof e?e:a,o[1]=d;for(var c=2;c<i;c++)o[c]=r[c];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}p.displayName="MDXCreateElement"},91134:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>d,toc:()=>c});var n=r(87462),a=(r(67294),r(3905));const i={id:"5c65f56d2c7d3a66e32e7d1a",number:"534",collectionId:"566dfabbc6979143615564bf",popularity:"0.4",publicUrl:"https://docs.gravitykit.com/article/534-trigger-feeds-edit-entry",viewCount:"2002",lastPublishedAt:"2023-02-01T13:45:46Z",changeOrigin:"hsapp-js",name:"How to trigger feeds after editing an entry",slug:"534-trigger-feeds-edit-entry",status:"published",categories:["579aa642c6979160ca148ba9","5e1b6d5d04286364bc93c665"],keywords:["zapier"],related:["54d3a075e4b086c0c09652f4"],createdBy:"59634",createdAt:"2019-02-14T23:10:37Z",updatedBy:"59634",updatedAt:"2023-02-01T13:45:46Z",title:"How to trigger feeds after editing an entry",hsEditUrl:"https://secure.helpscout.net/docs/566dfabbc6979143615564bf/article/5c65f56d2c7d3a66e32e7d1a",pagination_prev:null,pagination_next:null,last_update:{date:new Date("2023-02-01T13:45:46.000Z"),author:"Zack Katz"}},o="How to trigger feeds after editing an entry",d={unversionedId:"gravity-forms-add-ons/gravityview/advanced/5c65f56d2c7d3a66e32e7d1a",id:"gravity-forms-add-ons/gravityview/advanced/5c65f56d2c7d3a66e32e7d1a",title:"How to trigger feeds after editing an entry",description:"The code snippets below don't trigger form notifications when editing an entry. We have a different solution for that by using GravityRevisions.",source:"@site/docs/gravity-forms-add-ons/gravityview/advanced/534-trigger-feeds-edit-entry.mdx",sourceDirName:"gravity-forms-add-ons/gravityview/advanced",slug:"/gravity-forms-add-ons/gravityview/advanced/534-trigger-feeds-edit-entry",permalink:"/gravity-forms-add-ons/gravityview/advanced/534-trigger-feeds-edit-entry",draft:!1,editUrl:"https://github.com/GravityKit/Docs/tree/main/docs/gravity-forms-add-ons/gravityview/advanced/534-trigger-feeds-edit-entry.mdx",tags:[],version:"current",sidebarPosition:534,frontMatter:{id:"5c65f56d2c7d3a66e32e7d1a",number:"534",collectionId:"566dfabbc6979143615564bf",popularity:"0.4",publicUrl:"https://docs.gravitykit.com/article/534-trigger-feeds-edit-entry",viewCount:"2002",lastPublishedAt:"2023-02-01T13:45:46Z",changeOrigin:"hsapp-js",name:"How to trigger feeds after editing an entry",slug:"534-trigger-feeds-edit-entry",status:"published",categories:["579aa642c6979160ca148ba9","5e1b6d5d04286364bc93c665"],keywords:["zapier"],related:["54d3a075e4b086c0c09652f4"],createdBy:"59634",createdAt:"2019-02-14T23:10:37Z",updatedBy:"59634",updatedAt:"2023-02-01T13:45:46Z",title:"How to trigger feeds after editing an entry",hsEditUrl:"https://secure.helpscout.net/docs/566dfabbc6979143615564bf/article/5c65f56d2c7d3a66e32e7d1a",pagination_prev:null,pagination_next:null,last_update:{date:"2023-02-01T13:45:46.000Z",author:"Zack Katz"}},sidebar:"gravityview"},s={},c=[{value:"Before you use this code:",id:"before-you-use-this-code",level:4},{value:"Trigger all feeds from a specific form",id:"trigger-all-feeds-from-a-specific-form",level:2},{value:"When using the Zapier Add-On",id:"when-using-the-zapier-add-on",level:2},{value:"When using the WebHooks Add-On",id:"when-using-the-webhooks-add-on",level:2},{value:"When using the Slack Add-On",id:"when-using-the-slack-add-on",level:2},{value:"When using the MailChimp Add-On",id:"when-using-the-mailchimp-add-on",level:2}],f={toc:c},l="wrapper";function g(e){let{components:t,...r}=e;return(0,a.kt)(l,(0,n.Z)({},f,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"how-to-trigger-feeds-after-editing-an-entry"},"How to trigger feeds after editing an entry"),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"The code snippets below don't trigger form notifications when editing an entry. We have a different solution for that by using ",(0,a.kt)("a",{parentName:"p",href:"https://docs.gravitykit.com/article/485-email-notify-entries-updated-gravity-forms"},"GravityRevisions"),".")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"To trigger or restart a Gravity Flow Workflow, ",(0,a.kt)("a",{parentName:"p",href:"https://docs.gravitykit.com/article/887-restarting-a-gravity-flow-workflow-after-editing-an-entry"},"please check this other article instead"),".")),(0,a.kt)("p",null,"When you edit an entry with GravityView, you might want to re-process the add-on feeds that the form has. This is useful for re-sending emails or sending updated entry data to services such as ",(0,a.kt)("a",{parentName:"p",href:"https://www.gravityforms.com/add-ons/zapier/"},"Zapier"),". For that to happen, it's necessary to add a bit of code to your theme, so after submitting the changes, GravityView tells Gravity Forms to process its feeds again."),(0,a.kt)("h4",{id:"before-you-use-this-code"},"Before you use this code:"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If you are not sure how to add custom code to your theme, please ",(0,a.kt)("a",{parentName:"li",href:"https://docs.gravitykit.com/article/210-where-to-put-code-samples"},"take a look at this article"),"."),(0,a.kt)("li",{parentName:"ul"},"The code samples below target specific forms by their ID. In those examples, it's the ID 100. Please make sure to change that to the specific form ID connected to your View.")),(0,a.kt)("h2",{id:"trigger-all-feeds-from-a-specific-form"},"Trigger all feeds from a specific form"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"add_action( 'gravityview/edit_entry/after_update', 'gravityview_trigger_feeds', 10, 3 );\n\nfunction gravityview_trigger_feeds( $form, $entry_id, $object = null ) {\n\n    if ( 100 !== (int) $form['id'] ) { // replace 100 with your form ID\n        return;\n    }\n\n    $object = $object ?: new stdClass();\n\n    add_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n \n    gf_apply_filters( array( 'gform_entry_post_save', $form['id'] ), $object->entry, $form );\n \n    remove_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n   \n}\n")),(0,a.kt)("h2",{id:"when-using-the-zapier-add-on"},"When using the ",(0,a.kt)("a",{parentName:"h2",href:"https://www.gravityforms.com/add-ons/webhooks/"},"Zapier Add-On")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"add_action( 'gravityview/edit_entry/after_update', 'gravityview_trigger_zapier_feed', 10, 3 );\n\nfunction gravityview_trigger_zapier_feed( $form, $entry_id, $object = null ) {\n    \n    if ( 100 !== (int) $form['id'] ) { // replace 100 with your form ID\n        return;\n    }\n\n    $object = $object ?: new stdClass();\n\n    add_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n\n    $Zapier = GF_Zapier::get_instance();\n    $Zapier->maybe_process_feed( $object->entry, $form );\n\n    remove_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n}\n")),(0,a.kt)("h2",{id:"when-using-the-webhooks-add-on"},"When using the ",(0,a.kt)("a",{parentName:"h2",href:"https://www.gravityforms.com/add-ons/zapier/"},"WebHooks Add-On")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"add_action( 'gravityview/edit_entry/after_update', 'gravityview_trigger_webhooks_feed', 10, 3 );\n\nfunction gravityview_trigger_webhooks_feed( $form, $entry_id, $object = null ) {\n\n    if ( 100 !== (int) $form['id'] ) { // replace 100 with your form ID\n        return;\n    }\n\n    $object = $object ?: new stdClass();\n\n    add_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n\n    $GF_Webhooks = GF_Webhooks::get_instance();\n    $GF_Webhooks->maybe_process_feed( $object->entry, $form );\n\n    remove_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n}\n")),(0,a.kt)("h2",{id:"when-using-the-slack-add-on"},"When using the ",(0,a.kt)("a",{parentName:"h2",href:"https://www.gravityforms.com/add-ons/slack/"},"Slack Add-On")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"add_action( 'gravityview/edit_entry/after_update', 'gravityview_trigger_slack_feed', 10, 3 );\n\nfunction gravityview_trigger_slack_feed( $form, $entry_id, $object = null ) {\n\n    if ( 100 !== (int) $form['id'] ) { // replace 100 with your form ID\n        return;\n    }\n\n    $object = $object ?: new stdClass();\n\n    add_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n\n    $Slack = GFSlack::get_instance();\n    $Slack->maybe_process_feed( $object->entry, $form );\n\n    remove_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n}\n")),(0,a.kt)("h2",{id:"when-using-the-mailchimp-add-on"},"When using the ",(0,a.kt)("a",{parentName:"h2",href:"https://www.gravityforms.com/add-ons/mailchimp/"},"MailChimp Add-On")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-php"},"add_action( 'gravityview/edit_entry/after_update', 'gravityview_trigger_mailchimp_feed', 1, 3 );\n\nfunction gravityview_trigger_mailchimp_feed( $form, $entry_id, $object = null ) {\n    \n    if ( 136 !== (int)$form['id'] ) { // replace 100 with your form ID\n        return;\n    }\n\n    $object = $object ?: new stdClass();\n    \n    $feed = GFAPI::get_feed( 150 ); // replace 150 with your feed ID\n\n    add_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n    \n    $MailChimp = GFMailChimp::get_instance();                                                                                                     \n    $MailChimp->process_feed( $feed, $object->entry, $form );\n    \n    remove_filter( 'gform_is_feed_asynchronous', '__return_false', 1294873 );\n    \n}\n")),(0,a.kt)("admonition",{type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Priority is set to something unlikely to be used by other codes (1294873). Feel free to use a different priority.")))}g.isMDXComponent=!0}}]);