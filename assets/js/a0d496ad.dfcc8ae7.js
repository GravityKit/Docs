"use strict";(self.webpackChunkgravitykit_docs=self.webpackChunkgravitykit_docs||[]).push([[10902],{3905:(e,t,i)=>{i.d(t,{Zo:()=>h,kt:()=>f});var a=i(67294);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,a)}return i}function o(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function s(e,t){if(null==e)return{};var i,a,r=function(e,t){if(null==e)return{};var i,a,r={},n=Object.keys(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)i=n[a],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),i=t;return e&&(i="function"==typeof e?e(t):o(o({},t),e)),i},h=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var i=e.components,r=e.mdxType,n=e.originalType,c=e.parentName,h=s(e,["components","mdxType","originalType","parentName"]),d=l(i),u=r,f=d["".concat(c,".").concat(u)]||d[u]||p[u]||n;return i?a.createElement(f,o(o({ref:t},h),{},{components:i})):a.createElement(f,o({ref:t},h))}));function f(e,t){var i=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var n=i.length,o=new Array(n);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var l=2;l<n;l++)o[l]=i[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,i)}u.displayName="MDXCreateElement"},47111:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>n,metadata:()=>s,toc:()=>l});var a=i(87462),r=(i(67294),i(3905));const n={id:"5e7d315c04286364bc975893",number:"701",collectionId:"566dfabbc6979143615564bf",popularity:"0.3",publicUrl:"https://docs.gravitykit.com/article/701-show-choices-that-exist",viewCount:"1346",lastPublishedAt:"2022-12-05T13:35:07Z",changeOrigin:"hsapp-js",name:"Only show choices in the Search Bar that exist in entries",slug:"701-show-choices-that-exist",status:"published",categories:["566dff159033603f7da27def","579aa76f903360293603a8e7","579aa642c6979160ca148ba9"],createdBy:"59634",createdAt:"2020-03-26T22:49:00Z",updatedBy:"543004",updatedAt:"2022-12-05T13:35:07Z",title:"Only show choices in the Search Bar that exist in entries",hsEditUrl:"https://secure.helpscout.net/docs/566dfabbc6979143615564bf/article/5e7d315c04286364bc975893",pagination_prev:null,pagination_next:null,last_update:{date:new Date("2022-12-05T13:35:07.000Z"),author:"Casey Burridge"}},o="Only show choices in the Search Bar that exist in entries",s={unversionedId:"gravity-forms-add-ons/gravityview/search/5e7d315c04286364bc975893",id:"gravity-forms-add-ons/gravityview/search/5e7d315c04286364bc975893",title:"Only show choices in the Search Bar that exist in entries",description:"In the GravityView Search Bar widget, you may want to only display choices that exist in submitted entries (as opposed to showing all choices for each field).",source:"@site/docs/gravity-forms-add-ons/gravityview/search/701-show-choices-that-exist.mdx",sourceDirName:"gravity-forms-add-ons/gravityview/search",slug:"/gravity-forms-add-ons/gravityview/search/701-show-choices-that-exist",permalink:"/gravity-forms-add-ons/gravityview/search/701-show-choices-that-exist",draft:!1,editUrl:"https://github.com/GravityKit/Docs/tree/main/docs/gravity-forms-add-ons/gravityview/search/701-show-choices-that-exist.mdx",tags:[],version:"current",sidebarPosition:701,frontMatter:{id:"5e7d315c04286364bc975893",number:"701",collectionId:"566dfabbc6979143615564bf",popularity:"0.3",publicUrl:"https://docs.gravitykit.com/article/701-show-choices-that-exist",viewCount:"1346",lastPublishedAt:"2022-12-05T13:35:07Z",changeOrigin:"hsapp-js",name:"Only show choices in the Search Bar that exist in entries",slug:"701-show-choices-that-exist",status:"published",categories:["566dff159033603f7da27def","579aa76f903360293603a8e7","579aa642c6979160ca148ba9"],createdBy:"59634",createdAt:"2020-03-26T22:49:00Z",updatedBy:"543004",updatedAt:"2022-12-05T13:35:07Z",title:"Only show choices in the Search Bar that exist in entries",hsEditUrl:"https://secure.helpscout.net/docs/566dfabbc6979143615564bf/article/5e7d315c04286364bc975893",pagination_prev:null,pagination_next:null,last_update:{date:"2022-12-05T13:35:07.000Z",author:"Casey Burridge"}},sidebar:"gravityview"},c={},l=[{value:"GravityView 2.16 or above",id:"gravityview-216-or-above",level:2},{value:"GravityView 2.16 or below (advanced)",id:"gravityview-216-or-below-advanced",level:2}],h={toc:l},d="wrapper";function p(e){let{components:t,...i}=e;return(0,r.kt)(d,(0,a.Z)({},h,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"only-show-choices-in-the-search-bar-that-exist-in-entries"},"Only show choices in the Search Bar that exist in entries"),(0,r.kt)("p",null,"In the GravityView Search Bar widget, you may want to only display choices that exist in submitted entries (as opposed to showing all choices for each field)."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Here's an example"),': Let\'s say you have a "Country" field in your form with a Drop Down list of all 195 countries, but the number of unique countries selected in form entries is only 15. You may wish to only display those 15 countries as choices in the search widget, instead of all 195!'),(0,r.kt)("p",null,"\u26a0\ufe0f ",(0,r.kt)("strong",{parentName:"p"},"It's important to understand the implications of enabling this option"),". Pre-filtering choices will \u201cshow\u201d what values have been selected for all submitted entries in a form, not just the filtered entries shown in a View. That means that even if you have filtered the entries in your View using advanced filters, the search fields will still show all the options."),(0,r.kt)("h2",{id:"gravityview-216-or-above"},"GravityView 2.16 or above"),(0,r.kt)("p",null,'If you\'re running GravityView 2.16 or above, you can enable the "Pre-filter choices" option in the search settings. Start by clicking on the gear icon next to the Search Bar label to open the search settings.'),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://s3.amazonaws.com/helpscout.net/docs/assets/54c58489e4b051242988532c/images/638df16df10e521a19fdb86c/file-RtRfgMwxGm.png",alt:"The gear icon next to the Search Bar label; clicking this will open the search widget settings"})),(0,r.kt)("p",null,'Now scroll down and check the box that says "Only show choices that exist in form entries".'),(0,r.kt)("p",null,(0,r.kt)("img",{parentName:"p",src:"https://s3.amazonaws.com/helpscout.net/docs/assets/54c58489e4b051242988532c/images/638defdab516b82a04e934b8/file-YHO6zWZ2gH.png",alt:"A checkbox allowing you to enable the 'pre-filter choices' option, ensuring that you only see options that match those selected in entries"})),(0,r.kt)("h2",{id:"gravityview-216-or-below-advanced"},"GravityView 2.16 or below (advanced)"),(0,r.kt)("p",null,"To limit searchable ",(0,r.kt)("strong",{parentName:"p"},"drop-down fields")," to only values that have been submitted, add this filter:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<pre class=\"prettyprint\" lang=\"php\">add_filter( 'gravityview/search/sieve_choices', '__return_true' );\n")),(0,r.kt)("p",null,"If you want to limit this behavior to specific Views and specific form fields, modify this code:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"<pre class=\"prettyprint\">// Only show used choices in entries for View ID 4 and Field ID 6\nadd_filter( 'gravityview/search/sieve_choices', function( $sieve, $filter, $context ) {\n   if ( 4 === $context->view->ID && 6 === (int) $filter['field'] ) {\n       return true;\n   }\n   return $sieve;\n}, 10, 3 );\n")),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("strong",{parentName:"p"},"Note"),": This will match both the choice label and the choice value.")))}p.isMDXComponent=!0}}]);